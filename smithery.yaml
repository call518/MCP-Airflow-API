
## Smithery configuration for MCP Airflow API server
## Docs: https://smithery.ai/docs/config#smitheryyaml
## This file defines how Smithery (and Smithery-compatible MCP client launchers)
## can start the Airflow MCP server via stdio.

name: mcp-airflow-api
description: "MCP server exposing Apache Airflow cluster management & monitoring tools."
homepage: https://github.com/call518/MCP-Airflow-API
license: MIT
tags:
  - airflow
  - dag
  - cluster
  - monitoring
  - mcp

build:
  dockerfile: "Dockerfile.smithery.ai"
  dockerBuildPath: "."

startCommand:
  type: http
  # User-supplied configuration schema mapped to environment variables.
  configSchema:
    type: object
    required:
      - AIRFLOW_API_URL
      - AIRFLOW_API_USERNAME
      - AIRFLOW_API_PASSWORD
      - AIRFLOW_LOG_LEVEL
    properties:
      AIRFLOW_API_URL:
        type: string
        description: "Airflow REST API base URL (e.g. http://localhost:8080/api/v1)"
        default: http://localhost:8080/api/v1
        secret: false
      AIRFLOW_API_USERNAME:
        type: string
        description: "Airflow API username"
        default: airflow
        secret: false
      AIRFLOW_API_PASSWORD:
        type: string
        description: "Airflow API password"
        default: airflow
        secret: true
      AIRFLOW_LOG_LEVEL:
        type: string
        description: "Log level for MCP server (DEBUG, INFO, WARNING, ERROR, CRITICAL)"
        default: INFO
        secret: false
  exampleConfig:
    AIRFLOW_API_URL: http://localhost:8080/api/v1
    AIRFLOW_API_USERNAME: airflow
    AIRFLOW_API_PASSWORD: airflow
    AIRFLOW_LOG_LEVEL: INFO

## Notes:
## - Set AIRFLOW_API_PASSWORD via Smithery secret storage if available.
## - Adjust AIRFLOW_API_URL for your environment.
## - Set AIRFLOW_LOG_LEVEL to control logging verbosity (DEBUG, INFO, etc).
## - Ensure the hosting environment installs the package: pip install mcp-airflow-api (optionally pin a version).
